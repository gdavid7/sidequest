@tailwind base;
@tailwind components;
@tailwind utilities;

/**
 * Sidequest Global Styles
 * ======================
 * 
 * Design Philosophy:
 * - Mobile-first, thumb-friendly touch targets (min 44px)
 * - UCI colors as foundation, modern gradients as accent
 * - High contrast for accessibility
 * - Smooth, purposeful animations
 */

@layer base {
  :root {
    /* 
     * Custom properties for dynamic theming
     * These can be overridden for dark mode later
     */
    --color-background: 250 250 250;
    --color-foreground: 23 23 23;
    --color-primary: 0 100 164;      /* UCI Blue */
    --color-accent: 255 210 0;        /* UCI Gold */
    --color-muted: 115 115 115;
    --color-border: 229 229 229;
    --color-card: 255 255 255;
    
    /* Smooth scrolling */
    scroll-behavior: smooth;
  }

  /* 
   * Base body styles
   * Using a subtle gradient background for depth
   */
  body {
    @apply antialiased text-neutral-900;
    background: linear-gradient(
      135deg,
      rgb(250, 250, 250) 0%,
      rgb(243, 244, 246) 50%,
      rgb(250, 250, 250) 100%
    );
    background-attachment: fixed;
    min-height: 100vh;
  }

  /* Focus styles for accessibility */
  *:focus-visible {
    @apply outline-none ring-2 ring-brand-blue-500 ring-offset-2;
  }

  /* Remove default focus for mouse users */
  *:focus:not(:focus-visible) {
    @apply outline-none ring-0;
  }
}

@layer components {
  /**
   * Reusable button styles
   * Using Tailwind's @apply for consistency
   */
  .btn {
    @apply inline-flex items-center justify-center px-4 py-2.5 
           font-medium rounded-xl transition-all duration-200
           disabled:opacity-50 disabled:cursor-not-allowed
           active:scale-[0.98];
    min-height: 44px; /* Touch-friendly */
  }

  .btn-primary {
    @apply btn bg-brand-blue-500 text-white 
           hover:bg-brand-blue-600 
           shadow-md hover:shadow-lg;
  }

  .btn-secondary {
    @apply btn bg-white text-brand-blue-600 
           border-2 border-brand-blue-500
           hover:bg-brand-blue-50;
  }

  .btn-ghost {
    @apply btn text-neutral-600 hover:bg-neutral-100;
  }

  .btn-danger {
    @apply btn bg-red-500 text-white hover:bg-red-600;
  }

  .btn-gold {
    @apply btn bg-brand-gold-500 text-brand-blue-900 
           hover:bg-brand-gold-400 
           shadow-md hover:shadow-lg font-semibold;
  }

  /**
   * Card styles with subtle elevation
   */
  .card {
    @apply bg-white rounded-2xl shadow-sm border border-neutral-100
           transition-all duration-200;
  }

  .card-interactive {
    @apply card hover:shadow-md hover:border-neutral-200 
           active:scale-[0.99] cursor-pointer;
  }

  /**
   * Input field styles
   */
  .input {
    @apply w-full px-4 py-3 rounded-xl border border-neutral-200
           bg-white text-neutral-900 placeholder:text-neutral-400
           transition-colors duration-200
           focus:border-brand-blue-500 focus:ring-1 focus:ring-brand-blue-500;
    min-height: 48px; /* Touch-friendly */
  }

  .input-error {
    @apply input border-red-500 focus:border-red-500 focus:ring-red-500;
  }

  /**
   * Badge/pill styles for status indicators
   */
  .badge {
    @apply inline-flex items-center px-2.5 py-1 rounded-full 
           text-xs font-semibold uppercase tracking-wide;
  }

  .badge-open {
    @apply badge bg-green-100 text-green-800;
  }

  .badge-accepted {
    @apply badge bg-brand-blue-100 text-brand-blue-800;
  }

  .badge-complete {
    @apply badge bg-neutral-100 text-neutral-600;
  }

  .badge-canceled {
    @apply badge bg-red-100 text-red-800;
  }

  /**
   * Category badges with distinct colors
   */
  .category-badge {
    @apply badge;
  }

  .category-errand { @apply bg-orange-100 text-orange-800; }
  .category-delivery { @apply bg-blue-100 text-blue-800; }
  .category-moving { @apply bg-purple-100 text-purple-800; }
  .category-tutoring { @apply bg-emerald-100 text-emerald-800; }
  .category-cleaning { @apply bg-pink-100 text-pink-800; }
  .category-other { @apply bg-neutral-100 text-neutral-800; }

  /**
   * Navigation bar (mobile-first, bottom nav)
   */
  .nav-item {
    @apply flex flex-col items-center justify-center p-2 
           text-neutral-500 transition-colors duration-200
           hover:text-brand-blue-500;
    min-width: 64px;
  }

  .nav-item-active {
    @apply nav-item text-brand-blue-600;
  }

  /**
   * Page container with safe area padding
   */
  .page-container {
    @apply min-h-screen pb-20; /* Space for bottom nav */
    padding-top: env(safe-area-inset-top, 0px);
    padding-bottom: calc(80px + env(safe-area-inset-bottom, 0px));
  }

  /**
   * Loading states
   */
  .skeleton {
    @apply animate-pulse bg-neutral-200 rounded;
  }

  /**
   * Chat message bubbles
   */
  .message-bubble {
    @apply px-4 py-2.5 rounded-2xl max-w-[80%];
  }

  .message-sent {
    @apply message-bubble bg-brand-blue-500 text-white ml-auto rounded-br-md;
  }

  .message-received {
    @apply message-bubble bg-neutral-100 text-neutral-900 mr-auto rounded-bl-md;
  }

  .message-system {
    @apply px-3 py-1.5 text-xs text-neutral-500 bg-neutral-50 
           rounded-full mx-auto text-center italic;
  }
}

@layer utilities {
  /* Hide scrollbar but allow scrolling */
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  /* Safe area insets for mobile */
  .safe-top {
    padding-top: env(safe-area-inset-top, 0px);
  }
  .safe-bottom {
    padding-bottom: env(safe-area-inset-bottom, 0px);
  }

  /* Text truncation utilities */
  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  /* Glass effect for overlays */
  .glass {
    @apply bg-white/80 backdrop-blur-lg;
  }
}

